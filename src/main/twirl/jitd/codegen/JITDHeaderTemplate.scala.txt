@import jitd.codegen._
@import jitd.spec._
@(definition: Definition, ctx:Render)

class JITD {

  JITD(JITDNode *root) : root(root) {}

  @for( (name, accessor) <- definition.accessors ) {
    @{RenderAccessor.declaration( name, accessor, ctx, true )} {
      return @RenderAccessor.renderCall( name, accessor, ctx, "root" );
    }
  }


  private:
  @for( (name, accessor) <- definition.accessors ) {
    @{RenderAccessor.declaration( name, accessor, ctx )};
  }

    std::shared_ptr<JITDNode> root;

};